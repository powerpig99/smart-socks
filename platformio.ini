; PlatformIO Project Configuration File
; Smart Socks - ELEC-E7840 Smart Wearables (Aalto University)
; Single ESP32S3 reads all 6 sensors (A0-A5)

[platformio]
default_envs = xiao_esp32s3

; ==========================================
; COMMON SETTINGS
; ==========================================
[common]
platform = espressif32
board = seeed_xiao_esp32s3
framework = arduino
upload_speed = 921600
monitor_speed = 115200
build_flags =
    -D ARDUINO_USB_MODE=1
    -D ARDUINO_USB_CDC_ON_BOOT=1
monitor_filters = default, time
lib_deps =
    bblanchon/ArduinoJson@^6.21.0

; ==========================================
; XIAO ESP32S3 ENVIRONMENT (default)
; Full-featured data collection firmware
; Reads all 6 sensors on one ESP32:
;   A0: L_P_Heel, A1: L_P_Ball, A2: L_S_Knee
;   A3: R_P_Heel, A4: R_P_Ball, A5: R_S_Knee
; Includes WiFi dashboard, BLE, serial commands
; ==========================================
[env:xiao_esp32s3]
platform = ${common.platform}
board = ${common.board}
framework = ${common.framework}
upload_speed = ${common.upload_speed}
monitor_speed = ${common.monitor_speed}
build_flags = ${common.build_flags}
monitor_filters = ${common.monitor_filters}
lib_deps = ${common.lib_deps}
src_dir = 04_Code/arduino/data_collection_leg

; ==========================================
; CALIBRATION ENVIRONMENT
; Simple serial-only firmware for sensor testing
; Same pinout, no WiFi/BLE overhead
; ==========================================
[env:calibration]
platform = ${common.platform}
board = ${common.board}
framework = ${common.framework}
upload_speed = ${common.upload_speed}
monitor_speed = ${common.monitor_speed}
build_flags = ${common.build_flags}
monitor_filters = ${common.monitor_filters}
lib_deps = ${common.lib_deps}
src_dir = 04_Code/arduino/calibration_all_sensors
